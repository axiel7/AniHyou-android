query ActivityFeed($page: Int, $perPage: Int, $isFollowing: Boolean, $typeIn: [ActivityType]) {
    Page(page: $page, perPage: $perPage) {
        activities(isFollowing: $isFollowing, sort: [ID_DESC], type_in: $typeIn) {
            ... on TextActivity {
                ...TextActivityFragment
            }
            ... on ListActivity {
                ...ListActivityFragment
            }
            ... on MessageActivity {
                ...MessageActivityFragment
            }
        }
        pageInfo {
            ...CommonPage
        }
    }
}

fragment ListActivityFragment on ListActivity {
    id
    createdAt
    isLiked
    likeCount
    likes {
        ...ActivityUser
    }
    replyCount
    isLocked
    type
    progress
    status
    userId
    user {
        ...ActivityUser
    }
    media {
        id
        title {
            userPreferred
        }
        coverImage {
            medium
        }
    }
}

fragment TextActivityFragment on TextActivity {
    id
    createdAt
    isLiked
    likeCount
    likes {
        ...ActivityUser
    }
    replyCount
    isLocked
    text
    userId
    user {
        ...ActivityUser
    }
}

fragment MessageActivityFragment on MessageActivity {
    id
    createdAt
    isLiked
    likeCount
    likes {
        ...ActivityUser
    }
    replyCount
    isPrivate
    isLocked
    message
    messengerId
    messenger {
        ...ActivityUser
    }
}

fragment ActivityUser on User {
    name
    avatar {
        medium
    }
}